<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const datos = [
    {
        id: 1,
        title : "Iron Man", 
        year: 2008
    }, 
    {
        id:2,
        title:"Spider Man",
        year:2017
    },
    {
        id:3,
        title:" Avenger endgame",
        year:2017
    }
] 

//1 sincrono

// const getDatos = () => {
//     return datos
// }

// console.log(getDatos())


// 2 asincrono

// const getDatos = () => {
//     setTimeout(() => {
        
//         return datos;
//     } , 1500)

   
// }

// console.log(getDatos())


// 3 promesas 
//const datos = []

const getDatos = () =>{
    return new Promise((resolve , reject) => {
        if(datos.length == 0){
            reject(new Error("Error. No exiten datos"))

        }
        setTimeout(()=>{
            resolve(datos)
        } , 1500)
    })
}

/* getDatos () 
    .then((datos)=> {console.table(datos)})
    .catch((err)=>{console.error(err.message)}) */


// 4 Async await 
// esperara que la const getDatos retorne la informacion , debe tener el async para usar el await
async function obtenerDatos (){
    try {
        const datosObtenidos = await getDatos()
        console.table(datosObtenidos)
    }catch (error){
        console.log(error(error.mesage))
    }
}

obtenerDatos()


async function getNombre(nomusu){
    const url = `https://api.github.com/users/${nomusu}`
    const respuesta = await fetch(url)
    const json = await respuesta.json()

    console.log(json.name)
}   

getNombre()
    </script>
</body>
</html>